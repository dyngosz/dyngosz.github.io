---
layout: post
title:  "How Spotify changed the way I listen to music"
date:   2017-03-12 17:00:00
categories: stuff
---
For quite some time I found myself waiting impatiently for the next Monday, and
that's not because of opportunity to rise early from the bed and go to University.
That's because the **most amazing** thing happens in the form of a stunning music
playlist freshly crafted for me by **Spotify**, music streaming service.

The playlist, called **Discover Weekly**, is a set of 30 songs picked magically just
for me. ~~It sounds pretty simple, right?~~ As some might expect, there is some serious Data
Science involved in the process of music recommendation at Spotify and I will try to elucidate the topic.

It is almost *weird* how good Discover Weekly is. In fact it's so good it inspired me to
write about it and make a small Java project concerning it (more on that later).


## Golden age of music
Remember when you had that great collection of Compact Cassettes or CD's at home and wanted to take
all your music with you?
Of course it wasn't impossible, but hey, it was inconvenient.
What **streaming services** did to music is comparable to what YouTube did to funny videos or what
Reddit did to pictures with cute kittens - they just completely **changed the game**.

The idea of having all the music you want with you while not having it physically is just awesome.
To get the difference, a very fancy device in the eighties - a discman(*a CD player, kids*) with one CD could provide you with around 20 tracks. ~~Not bad, huh?~~ Today, with a little combined help from
your smartphone and Spotify, you have more than **30 million** songs and around 200 000 more appear every day.
You don't just have an artist or an album with you. **You have the *Music* with you**.

## Making music better with Data Science
Spotify launched its Discover Weekly playlist in July, 2015. Since then every user of the app has the
privilege of getting new mixtape tailored just for him every monday, and while the company actually has
human music experts making thousands of special playlist it would just be impossible for Spotify to hire
the amount of people necessary to make tens of millions of them. The music streaming service uses three
main mechanisms in order to make it possible:
### Collaborative filtering
In the *science gibberish* it is a method of making automatic predictions about the interest of a user
by collecting preferences from many users. Speaking *human*, it's an extension of: **"people who like
that, also like this"**. The underlying assumption is that if person A likes a song that person B likes,
presumably A might enjoy some other track that B listens to rather than any song from person C.
This is exactly what happens at Spotify. The company analyzes hundreds of millions of user playlists in order to find similarities and based on that it proposes new tracks.
The whole trick to collaborative filtering is that it recommends
new things **based on similarity between users, not between items**.
### Outlier detection
Technically speaking, outlier is an observation which is so different from other observations that it
arouses suspicion of being generated by a different mechanism.
This method is widely used in finance sector to detect fraud, to give you an idea - purchasing behavior of a credit card owner usually changes dramatically when the card is stolen.
At Spotify, outlier detection is used to **determine if a certain user actions are a part of normal
behavior**. This way if John only listens to classical music of First Viennese School he won't have
hardcore death metal on his Discover Weekly playlist when his nephew Andrew
puts Slipknot or Slayer few times. *Clever, ain't it?*
### Natural language processing
There is a certain obstacle in the way of collaborative filtering functioning neatly.
It is called a *cold start* and it happens every time Spotify welcomes a brand new song into its
vast database. The service simply hasn't gathered any data about this track since nobody
listened to it yet and it fails to find any similarities or relationships concerning the fresh song.
Here comes the aid of natural language processing and a special mechanism called **Word2Vec** created
by the brightest minds in at Google. This technique enables encoding words into mathematical
representation - a vector. Vectors with similar shape are just like words with similar meaning.
All this makes it possible for Spotify to treat songs as words and based on that find alike tracks
just as we are able to find synonyms when necessary. 
